<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<contentHaul xmlns:a="http://www.appian.com/ae/types/2009">
    <versionUuid>_a-0000ec5b-dce3-8000-e69f-01ef9001ef90_10135252</versionUuid>
    <interface>
        <name>SCDO_GridExpedientes</name>
        <uuid>_a-0000e878-569a-8000-e5e4-01ef9001ef90_2226531</uuid>
        <description>Interfaz con la tabla para los expedientes o ejecutivos para SCDO.</description>
        <parentUuid>_a-0000e801-560f-8000-e5d9-01ef9001ef90_1707049</parentUuid>
        <visibility>
            <advertise>false</advertise>
            <hierarchy>true</hierarchy>
            <indexable>true</indexable>
            <quota>false</quota>
            <searchable>true</searchable>
            <system>false</system>
            <unlogged>false</unlogged>
        </visibility>
        <definition>a!localVariables(
  local!deleteSuccess: false,
  local!expedienteDelete,
  /*-------------------------*/
  local!showInformationBanner: true,
  local!showInformationBanner_actualizar: true,
  local!showInformationBanner_eliminar: true,

  /*correcto*/
  local!flag: now(),
  local!showWhen: a!refreshVariable(
    value: now() &lt; local!flag,
    refreshInterval: 0.5
  ),
  /*-----*/

  /*error*/
  local!flag_error: now(),
  local!showWhen_error: a!refreshVariable(
    value: now() &lt; local!flag_error,
    /* especifique el intervalo después de cuántos minutos desea finalizar el examen */
    refreshInterval: 0.5
  ),
  /*------*/

  /*correcto_actualizar*/
  local!flag_actualizar: now(),
  local!showWhen_actualizar: a!refreshVariable(
    value: now() &lt; local!flag_actualizar,
    refreshInterval: 0.5
  ),
  /*-----*/

  /*error_actualizasr*/
  local!flag_error_actualizar: now(),
  local!showWhen_error_actualizar: a!refreshVariable(
    value: now() &lt; local!flag_error_actualizar,
    /* especifique el intervalo después de cuántos minutos desea finalizar el examen */
    refreshInterval: 0.5
  ),
  /*------*/

  /*correcto_eliminar*/
  local!flag_eliminar: now(),
  local!showWhen_eliminar: a!refreshVariable(
    value: now() &lt; local!flag_eliminar,
    refreshInterval: 0.5
  ),
  /*-----*/

  /*error_elimianr*/
  local!flag_error_eliminar: now(),
  local!showWhen_error_eliminar: a!refreshVariable(
    value: now() &lt; local!flag_error_eliminar,
    /* especifique el intervalo después de cuántos minutos desea finalizar el examen */
    refreshInterval: 0.5
  ),
  /*------*/
  /*-----------------------*/
  local!mostrarSuccess: false,
  local!expedienteGuardado,
  local!tempValidation: clean(
    stripwith(
      "Please enter value in £ #",
      "°|¬!""#$%&amp;/()=\?'¿¡¨*~+´{[^]}`,;.:-_&lt;&gt;@"
    )
  ),
  local!colorEdit: "#0032E6",
  local!colorDV: "#EC0000",
  /*Color para validaciones y boton eliminar*/
  local!colorSave: "#1F8926",
  local!succes,
  local!bUser,
  local!bUserT,
  local!expedienteGrid: a!refreshVariable(
    value:  #"_a-0000e878-569a-8000-e5e4-01ef9001ef90_2114113"(expediente: local!bUser),
    /*refreshAlways: true,*/
    refreshOnVarChange: {local!bUser,local!bUserT}
    /*refreshOnReferencedVarChange: true,*/

  ),
  /*local!expedienteGrid: if(*/
    /*isnull(local!bUser),*/
    /*{},*/
    /*rule!SCDO_getExpedienteByFilters(expediente: local!bUser)*/
  /*),*/
  local!editTemp: local!expedienteGrid,
  local!editGrid: false,
  local!expedienteWrite: 'type!{urn:com:appian:types}cdo_expedientes'(),
  {
    #"SYSTEM_SYSRULES_cardLayout"(
      contents: {
        #"SYSTEM_SYSRULES_cardLayout"(
          contents: {
            #"SYSTEM_SYSRULES_sectionLayout_v1"(
              label: "",
              contents: {
                #"SYSTEM_SYSRULES_columnsLayout"(
                  columns: {
                    /*CORRECTO ACTUALIZAR*/
                    #"SYSTEM_SYSRULES_columnLayout"(
                      contents: {
                        #"_a-0000eb53-0a0e-8000-e689-01ef9001ef90_9394093"(
                          showInformationBanner: local!showInformationBanner_actualizar
                        )
                      },
                      showWhen: and(
                        local!showInformationBanner_actualizar,
                        local!showWhen_actualizar
                      )
                    ),
                    /*ERROR ACTUALIZAR*/
                    #"SYSTEM_SYSRULES_columnLayout"(
                      contents: {
                        #"_a-0000eb53-0a0e-8000-e689-01ef9001ef90_9394317"(
                          showInformationBanner: local!showInformationBanner_actualizar
                        )
                      },
                      showWhen: and(
                        local!showInformationBanner_actualizar,
                        local!showWhen_error_actualizar
                      )
                    ),
                    /*CORRECTO ELIMINAR*/
                    #"SYSTEM_SYSRULES_columnLayout"(
                      contents: {
                        #"_a-0000eb53-0a0e-8000-e689-01ef9001ef90_9394093"(
                          showInformationBanner: local!showInformationBanner_eliminar
                        )
                      },
                      showWhen: and(
                        local!showInformationBanner_eliminar,
                        local!showWhen_eliminar
                      )
                    ),
                    /*ERROR ELIMINAR*/
                    #"SYSTEM_SYSRULES_columnLayout"(
                      contents: {
                        #"_a-0000eb53-0a0e-8000-e689-01ef9001ef90_9394317"(
                          showInformationBanner: local!showInformationBanner_eliminar
                        )
                      },
                      showWhen: and(
                        local!showInformationBanner_eliminar,
                        local!showWhen_error_eliminar
                      )
                    ),
                    #"SYSTEM_SYSRULES_columnLayout"(
                      contents: {
                        #"SYSTEM_SYSRULES_cardLayout"(
                          contents: {
                            #"SYSTEM_SYSRULES_richTextDisplayField"(
                              value: {
                                #"SYSTEM_SYSRULES_richTextItem_v1"(
                                  text: "¿Está seguro que desea eliminar el expediente: " &amp; local!expedienteDelete.expediente &amp; "?" &amp; char(10) &amp; "La acción es irrevocable",
                                  color: "NEGATIVE",
                                  style: "STRONG"
                                )
                              },
                              align: "CENTER"
                            ),
                            #"SYSTEM_SYSRULES_ButtonLayout"(
                              primaryButtons: {
                                #"SYSTEM_SYSRULES_buttonWidget_v1"(
                                  label: "Sí, Eliminar",
                                  style: "GHOST",
                                  saveInto: {
                                    #"SYSTEM_SYSRULES_startProcess"(
                                      processModel: #"_a-0000e878-569a-8000-e5e4-01ef9001ef90_2244665",
                                      processParameters: { expediente:local!expedienteDelete, delete: true },
                                      onSuccess: {
                                        a!save(local!showInformationBanner_eliminar, true),
                                        if(
                                          toboolean(fv!processInfo.pv.error) = false,
                                          {a!save(local!flag_eliminar, addseconds(now(), 10)),
                                          a!save(local!bUserT,null),
                                          a!save(local!succes, fv!processInfo),
                                         
                                          a!save(local!expedienteDelete, null),
                                          a!save(local!bUser, null),
                                          a!save(
                                            local!expedienteWrite,
                                            'type!{urn:com:appian:types}cdo_expedientes'()
                                          ),
                                          a!save(ri!refreshCount, ri!refreshCount + 1)
                                          },
                                          a!save(local!flag_error_eliminar, addseconds(now(), 10))
                                        ),
                                        a!save(local!deleteSuccess, false)
                                        /*a!save(local!bUserT,null),*/
                                        /*a!save(local!succes, fv!processInfo),*/
                                        /*a!save(local!deleteSuccess, false),*/
                                        /*a!save(local!expedienteDelete, null),*/
                                        /*a!save(local!bUser, null),*/
                                        /*a!save(*/
                                          /*local!expedienteWrite,*/
                                          /*'type!{urn:com:appian:types}cdo_expedientes'()*/
                                        /*),*/
                                        /*a!save(ri!refreshCount, ri!refreshCount + 1)*/
                                      }
                                    )
                                  },
                                  size: "SMALL",
                                  icon: "trash",
                                  loadingIndicator: true
                                )
                              },
                              secondaryButtons: {
                                #"SYSTEM_SYSRULES_buttonWidget_v1"(
                                  label: "Cancelar",
                                  style: "GHOST",
                                  saveInto: {
                                    a!save(local!deleteSuccess, false),
                                    a!save(local!expedienteDelete, null)
                                    
                                  },
                                  size: "SMALL",
                                  icon: "times"
                                )
                              }
                            )
                          },
                          showWhen: local!deleteSuccess,
                          style: "WARN",
                          showBorder: false
                        )
                      }
                    )
                  }
                ),
                #"SYSTEM_SYSRULES_gridLayout"(
                  label: "Editable Grid",
                  labelPosition: "COLLAPSED",
                  emptyGridMessage: "No hay usuarios que coincidan con la búsqueda",
                  headerCells: {
                    #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(label: "Usuario N", align: "CENTER"),
                    #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(label: "EXPEDIENTE", align: "CENTER"),
                    #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(label: "NOMBRE", align: "CENTER"),
                    #"SYSTEM_SYSRULES_gridLayoutHeaderCell"(label: "ACCIONES", align: "CENTER")
                  },
                  columnConfigs: {},
                  rows: {
                    #"SYSTEM_SYSRULES_forEach"(
                      items: index(local!expedienteGrid,"data",null),
                      expression: #"SYSTEM_SYSRULES_gridRowLayout"(
                        contents: {
                          #"SYSTEM_SYSRULES_textField"(
                            value: index(index(local!editTemp,"data",null)[fv!index],"usuarion",null),
                            saveInto: {
                              local!editTemp.data[fv!index].usuarion
                            },
                            refreshAfter :"KEYPRESS",
                            readOnly: not(local!editGrid),
                            align: "CENTER"
                          ),
                          #"SYSTEM_SYSRULES_textField"(
                            value: index(index(local!editTemp,"data",null)[fv!index],"expediente", null),
                            saveInto: {
                              local!editTemp.data[fv!index].expediente
                            },
                            refreshAfter :"KEYPRESS",
                            readOnly: not(local!editGrid),
                            align: "CENTER"
                          ),
                          #"SYSTEM_SYSRULES_textField"(
                            value: index(index(local!editTemp,"data",null)[fv!index],"nombre", null),
                            saveInto: {
                              a!save(
                                local!editTemp.data[fv!index].nombre,
                                trim((save!value))
                              )
                            },
                            refreshAfter :"KEYPRESS",
                            readOnly: not(local!editGrid),
                            align: "CENTER"
                          ),
                          #"SYSTEM_SYSRULES_richTextDisplayField"(
                            value: {
                              #"SYSTEM_SYSRULES_richTextIcon"(
                                icon: "pencil-square-o",
                                caption: "Editar",
                                link: #"SYSTEM_SYSRULES_dynamicLink"(saveInto: a!save(local!editGrid, true)),
                                linkStyle: "STANDALONE",
                                showWhen: not(local!editGrid),
                                color: local!colorEdit
                              ),
                              #"SYSTEM_SYSRULES_richTextItem_v1"(
                                text: {
                                  "* Los siguientes campos están vacíos:",
                                  if(
                                    a!isNullOrEmpty(
                                      index(index(local!editTemp,"data",null)[fv!index],"usuarion", null)
                                    ),
                                    char(10) &amp; "Usuario N  ",
                                    {}
                                  ),
                                  if(
                                    a!isNullOrEmpty(
                                      index(local!editTemp,"data",null)[fv!index].expediente
                                    ),
                                    char(10) &amp; "Expediente  ",
                                    {}
                                  ),
                                  if(
                                    a!isNullOrEmpty(index(local!editTemp,"data",null)[fv!index].nombre),
                                    char(10) &amp; "Nombre  ",
                                    {}
                                  )
                                },
                                showWhen: or(
                                  a!isNullOrEmpty(
                                    index(local!editTemp,"data",null)[fv!index].usuarion
                                  ),
                                  a!isNullOrEmpty(
                                    index(local!editTemp,"data",null)[fv!index].expediente
                                  ),
                                  a!isNullOrEmpty(index(local!editTemp,"data",null)[fv!index].nombre)
                                
                                ),
                                color: local!colorDV
                              ),
                              #"SYSTEM_SYSRULES_richTextItem_v1"(
                                text: char(10) &amp; "El expediente " &amp; index(index(local!editTemp,"data",null)[fv!index],"expediente", null) &amp; " ya existe." &amp; char(10),
                                showWhen: and(
                                  index(#"_a-0000e878-569a-8000-e5e4-01ef9001ef90_2114113"(
                                    expediente: index(index(local!editTemp,"data",null)[fv!index],"expediente", null)
                                  ),"totalCount", null) &gt; 0,
                                  index(#"_a-0000e878-569a-8000-e5e4-01ef9001ef90_2114113"(
                                    idExpediente: index(index(local!editTemp,"data",null)[fv!index],"idexpediente", null)
                                  ),"data","expediente", null) &lt;&gt; index(index(local!editTemp,"data",null)[fv!index],"expediente",null)
                                ),
                                color: local!colorDV
                              ),
                              #"SYSTEM_SYSRULES_richTextIcon"(
                                icon: "pencil-square-o",
                                caption: "Descartar Cambios",
                                link: #"SYSTEM_SYSRULES_dynamicLink"(
                                  saveInto: {
                                    a!save(local!editTemp.data[fv!index], fv!item),
                                    a!save(local!editGrid, false)
                                  }
                                ),
                                linkStyle: "STANDALONE",
                                showWhen: local!editGrid,
                                color: "#222222"
                              ),
                              #"SYSTEM_SYSRULES_richTextIcon"(
                                icon: "file-invoice",
                                caption: "Actualizar",
                                link: #"SYSTEM_SYSRULES_dynamicLink"(
                                  saveInto: {
                                    #"SYSTEM_SYSRULES_startProcess"(
                                      processModel: #"_a-0000e878-569a-8000-e5e4-01ef9001ef90_2244665",
                                      processParameters: {
                                        expediente: index(local!editTemp,"data",null)[fv!index],
                                        delete: false,
                                        accion:"actualizó"
                                      },
                                      onSuccess: {
                                        a!save(local!showInformationBanner_actualizar, true),
                                        if(
                                          toboolean(fv!processInfo.pv.error) = false,
                                          {a!save(local!flag_actualizar, addseconds(now(), 10)),
                                          a!save(local!succes, fv!processInfo),
                                          a!save(local!editGrid, false)
                                          },
                                          a!save(local!flag_error_actualizar, addseconds(now(), 10))
                                        )
                                        /*a!save(local!succes, fv!processInfo),*/
                                        /*a!save(local!editGrid, false)*/
                                      }
                                    )
                                  }
                                ),
                                linkStyle: "STANDALONE",
                                showWhen: and(
                                  local!editGrid,
                                  or(
                                    index(#"_a-0000e878-569a-8000-e5e4-01ef9001ef90_2114113"(
                                      idExpediente: index(index(local!editTemp,"data",null)[fv!index],"idexpediente", null)
                                    ),"data","usuarion", null) &lt;&gt; index(index(local!editTemp,"data",null)[fv!index],"usuarion", null),
                                    index(#"_a-0000e878-569a-8000-e5e4-01ef9001ef90_2114113"(
                                      idExpediente: index(index(local!editTemp,"data",null)[fv!index],"idexpediente", null)
                                    ),"data", "expediente", null) &lt;&gt; index(index(local!editTemp,"data",null)[fv!index],"expediente", null),
                                    index(#"_a-0000e878-569a-8000-e5e4-01ef9001ef90_2114113"(
                                      idExpediente: index(index(local!editTemp,"data",null)[fv!index],"idexpediente", null)
                                    ),"data","nombre",null) &lt;&gt; index(index(local!editTemp,"data",null)[fv!index],"nombre", null)
                                  ),
                                  not(
                                    or(
                                      and(
                                        index(#"_a-0000e878-569a-8000-e5e4-01ef9001ef90_2114113"(
                                          expediente: index(index(local!editTemp,"data",null)[fv!index],"expediente", null),
                                        ),"totalCount",null) &gt; 0,
                                        index(#"_a-0000e878-569a-8000-e5e4-01ef9001ef90_2114113"(
                                          idExpediente: index(index(local!editTemp,"data",null)[fv!index],"idexpediente", null)
                                        ),"data", "expediente", null) &lt;&gt; index(index(local!editTemp,"data",null)[fv!index],"expediente", null),
                                      ),
                                      a!isNullOrEmpty(index(index(local!editTemp,"data",null)[fv!index],"expediente", null)
                                      ),
                                      a!isNullOrEmpty(index(index(local!editTemp,"data",null)[fv!index],"nombre", null)),
                                     
                                      a!isNullOrEmpty(
                                        index(index(local!editTemp,"data",null)[fv!index],"usuarion", null)
                                      )
                                    )
                                  )
                                ),
                                color: local!colorSave
                              ),
                              #"SYSTEM_SYSRULES_richTextIcon"(
                                icon: "times",
                                caption: "Eliminar Expediente",
                                link: #"SYSTEM_SYSRULES_dynamicLink"(
                                  saveInto: {
                                    a!save(local!expedienteDelete, fv!item),
                                   
                                    a!save(local!deleteSuccess,true)
                                    
                                  }
                                ),
                                linkStyle: "STANDALONE",
                                color: local!colorDV
                              )
                            },
                            align: "CENTER"
                          )
                        }
                      )
                    )
                  },
                  selectionSaveInto: {},
                  showWhen: a!isNotNullOrEmpty(local!bUser),
                  validations: {},
                  shadeAlternateRows: true
                ),
                #"SYSTEM_SYSRULES_richTextDisplayField"(
                  labelPosition: "COLLAPSED",
                  instructions: "",
                  value: {
                    "Muestra lista de Ejecutivos registrados en CDO con las opciones eliminar, modificar o agregar."
                  },
                  align: "LEFT"
                )
              },
              divider: "BELOW"
            ),
            #"SYSTEM_SYSRULES_sectionLayout_v1"(
              label: "",
              contents: {
                #"SYSTEM_SYSRULES_columnsLayout"(
                  columns: {
                    #"SYSTEM_SYSRULES_columnLayout"(contents: {}),
                    #"SYSTEM_SYSRULES_columnLayout"(
                      contents: {
                        #"SYSTEM_SYSRULES_textField"(
                          label: "Buscar Expediente:",
                          labelPosition: "ADJACENT",
                          value: local!bUserT,
                          saveInto: {
                            local!bUserT,
                            a!save(local!editGrid, false)
                          },
                          refreshAfter: "KEYPRESS",
                          validations: {}
                        )
                      }
                    ),
                    #"SYSTEM_SYSRULES_columnLayout"(
                      contents: {
                        #"SYSTEM_SYSRULES_ButtonArrayLayout"(
                          buttons: {
                            #"SYSTEM_SYSRULES_buttonWidget_v1"(
                              label: "Buscar",
                              style: "GHOST",
                              saveInto: a!save(local!bUser, local!bUserT),
                              loadingIndicator: true
                            )
                          },
                          align: "START"
                        )
                      }
                    )
                  }
                ),
                #"SYSTEM_SYSRULES_richTextDisplayField"(
                  labelPosition: "COLLAPSED",
                  value: {
                    #"SYSTEM_SYSRULES_richTextItem_v1"(
                      text: { "*Agregar nuevo expediente" },
                      color: local!colorDV
                    )
                  },
                  align: "LEFT"
                )
              },
              divider: "BELOW"
            ),
            #"SYSTEM_SYSRULES_columnsLayout"(
              columns: {
            /*ERROR*/
            #"SYSTEM_SYSRULES_columnLayout"(
              contents: {
                #"_a-0000eb53-0a0e-8000-e689-01ef9001ef90_9394317"(
                  showInformationBanner: local!showInformationBanner
                )
              },
              showWhen: and(
                local!showInformationBanner,
                local!showWhen_error
              )
            )
              }
            ),
            #"SYSTEM_SYSRULES_sectionLayout_v1"(
              label: "",
              contents: {
                #"SYSTEM_SYSRULES_sideBySideLayout"(
                  items: {
                    #"SYSTEM_SYSRULES_sideBySideItem"(
                      item: #"SYSTEM_SYSRULES_textField"(
                        label: "Usuario N: ",
                        labelPosition: "ABOVE",
                        value: local!expedienteWrite.usuarion,
                        saveInto: {
                          local!expedienteWrite.usuarion
                          

                        },
                        refreshAfter: "KEYPRESS",
                        validations: {}
                      )
                    ),
                    #"SYSTEM_SYSRULES_sideBySideItem"(
                      item: #"SYSTEM_SYSRULES_textField"(
                        label: "Expediente: ",
                        labelPosition: "ABOVE",
                        value: local!expedienteWrite.expediente,
                        saveInto: {
                          a!save(
                            local!expedienteWrite.expediente,
                            (save!value)
                          )
                          
                        },
                        refreshAfter: "KEYPRESS",
                        validations: {}
                      )
                    ),
                    #"SYSTEM_SYSRULES_sideBySideItem"(
                      item: #"SYSTEM_SYSRULES_textField"(
                        label: "Nombre:",
                        labelPosition: "ABOVE",
                        value: local!expedienteWrite.nombre,
                        saveInto: {
                          a!save(
                            local!expedienteWrite.nombre,
                            trim((save!value))
                          )
                        },
                        refreshAfter: "KEYPRESS",
                        validations: {}
                      )
                    ),
                    #"SYSTEM_SYSRULES_sideBySideItem"(
                      item: #"SYSTEM_SYSRULES_ButtonArrayLayout"(
                        buttons: {
                          #"SYSTEM_SYSRULES_buttonWidget_v1"(
                            label: "Guardar",
                            disabled: {
                              or(
                                #"_a-0000e878-569a-8000-e5e4-01ef9001ef90_2114113"(
                                  expediente: local!expedienteWrite.expediente
                                ).totalCount &gt; 0,
                                length(
                                  split(local!expedienteWrite.expediente, " ")
                                ) &gt; 1,
                                a!isNullOrEmpty(local!expedienteWrite.usuarion),
                                a!isNullOrEmpty(local!expedienteWrite.expediente),
                                a!isNullOrEmpty(local!expedienteWrite.nombre)
                              )
                            },
                            saveInto: {
                              #"SYSTEM_SYSRULES_startProcess"(
                                processModel: #"_a-0000e878-569a-8000-e5e4-01ef9001ef90_2244665",
                                processParameters: {
                                  expediente: local!expedienteWrite,
                                  delete: false,
                                  accion:"insertó"
                                },
                                onSuccess: {
                                  a!save(local!showInformationBanner, true),
                                  if(
                                    toboolean(fv!processInfo.pv.error) = false,
                                    {a!save(local!flag, addseconds(now(), 10)),
                                    a!save(local!succes, fv!processInfo),
                                    a!save(local!bUser, null),
                                    a!save(
                                      local!expedienteWrite,
                                      'type!{urn:com:appian:types}cdo_expedientes'(
                                        /*idexpediente: null,*/
                                        /*expediente: local!expedienteWrite.expediente,*/
                                        /*nombre: local!expedienteWrite.nombre,*/
                                        /*fechaingreso: local!expedienteWrite.fechaingreso*/
                                      )
                                    ),
                                    a!save(
                                      local!expedienteGuardado,
                                      local!expedienteWrite.nombre
                                    ),
                                    a!save(local!mostrarSuccess, true)
                                    },
                                    a!save(local!flag_error, addseconds(now(), 10))
                                  )
                                  /*a!save(local!succes, fv!processInfo),*/
                                  /*a!save(local!bUser, null),*/
                                  /*a!save(*/
                                    /*local!expedienteWrite,*/
                                    /*'type!{urn:com:appian:types}cdo_expedientes'(*/
                                      /*idexpediente: null,*/
                                      /*expediente: local!expedienteWrite.expediente,*/
                                      /*nombre: local!expedienteWrite.nombre,*/
                                      /*fechaingreso: local!expedienteWrite.fechaingreso*/
                                    /*)*/
                                  /*),*/
                                  /*a!save(*/
                                    /*local!expedienteGuardado,*/
                                    /*local!expedienteWrite.nombre*/
                                  /*),*/
                                  /*a!save(local!mostrarSuccess, true)*/
                                }
                              )
                              
                              
                            },
                            size: "SMALL",
                            icon: "save",
                            loadingIndicator: true
                          )
                        },
                        align: "START"
                      )
                    )
                  }
                ),
                #"SYSTEM_SYSRULES_cardLayout"(
                  contents: {
                    #"SYSTEM_SYSRULES_richTextDisplayField"(
                      value: {
                        #"SYSTEM_SYSRULES_richTextItem_v1"(
                          text: concat(
                            "Se ha creado correctamente el expediente.",
                            local!expedienteGuardado
                          ),
                          color: "ACCENT",
                          style: "STRONG"
                        )
                      },
                      align: "CENTER"
                    ),
                    #"SYSTEM_SYSRULES_ButtonArrayLayout"(
                      buttons: {
                        #"SYSTEM_SYSRULES_buttonWidget_v1"(
                          label: "ACEPTAR",
                          style: "SOLID",
                          value: false,
                          saveInto: {
                            {local!mostrarSuccess, local!showInformationBanner},
                            a!save(local!expedienteGuardado, null)
                          },
                          size: "SMALL",
                          icon: "check"
                        )
                      },
                      align: "CENTER"
                    )
                  },
                  /*showWhen: local!mostrarSuccess,*/
                  showWhen: and(
                    local!showInformationBanner,
                    local!showWhen
                  ),
                  style: "SUCCESS",
                  padding: "STANDARD",
                  showBorder: false,
                  decorativeBarColor: "POSITIVE"
                ),
                #"SYSTEM_SYSRULES_columnsLayout"(
                  columns: {
                    #"SYSTEM_SYSRULES_columnLayout"(
                      contents: {
                        #"SYSTEM_SYSRULES_richTextDisplayField"(
                          labelPosition: "COLLAPSED",
                          value: {
                            #"SYSTEM_SYSRULES_richTextItem_v1"(
                              text: {
                                "* Los siguientes campos están vacíos:",
                                if(
                                  a!isNullOrEmpty(local!expedienteWrite.usuarion),
                                  char(10) &amp; "Usuario N",
                                  {}
                                ),
                                if(
                                  a!isNullOrEmpty(local!expedienteWrite.expediente),
                                  char(10) &amp; "Expediente",
                                  {}
                                ),
                                if(
                                  a!isNullOrEmpty(local!expedienteWrite.nombre),
                                  char(10) &amp; "Nombre",
                                  {}
                                )
                              },
                              color: local!colorDV
                            )
                          },
                          showWhen: or(
                            a!isNullOrEmpty(local!expedienteWrite.usuarion),
                            a!isNullOrEmpty(local!expedienteWrite.expediente),
                            a!isNullOrEmpty(local!expedienteWrite.nombre)
                            
                          )
                        ),
                        #"SYSTEM_SYSRULES_richTextDisplayField"(
                          labelPosition: "COLLAPSED",
                          value: {
                            #"SYSTEM_SYSRULES_richTextItem_v1"(
                              text: {
                                "* El expediente " &amp; local!expedienteWrite.expediente &amp; " ya existe"
                              },
                              color: local!colorDV
                            )
                          },
                          showWhen: and(
                            index(#"_a-0000e878-569a-8000-e5e4-01ef9001ef90_2114113"(
                              expediente: local!expedienteWrite.expediente
                            ),"totalCount", null) &gt; 0,
                            a!isNotNullOrEmpty(local!expedienteWrite.expediente)
                          )
                        ),
                        #"SYSTEM_SYSRULES_richTextDisplayField"(
                          labelPosition: "COLLAPSED",
                          value: {
                            #"SYSTEM_SYSRULES_richTextItem_v1"(
                              text: {
                                "* El expediente no puede contener espacios"
                              },
                              color: local!colorDV
                            )
                          },
                          showWhen: length(
                            split(local!expedienteWrite.expediente, " ")
                          ) &gt; 1
                        )
                        
                      },
                      width: "AUTO"
                    ),
                    #"SYSTEM_SYSRULES_columnLayout"(contents: {}),
                    #"SYSTEM_SYSRULES_columnLayout"(contents: {}),
                    #"SYSTEM_SYSRULES_columnLayout"(contents: {}),
                    #"SYSTEM_SYSRULES_columnLayout"(contents: {}),
                    #"SYSTEM_SYSRULES_columnLayout"(contents: {}),
                    #"SYSTEM_SYSRULES_columnLayout"(contents: {}),
                    #"SYSTEM_SYSRULES_columnLayout"(contents: {})
                  }
                )
              }
            )
          },
          height: "AUTO",
          style: "NONE",
          padding: "STANDARD",
          marginAbove: "NONE",
          marginBelow: "NONE",
          showBorder: false
        )
      },
      height: "AUTO",
      /*style: local!colorCard,*/
      marginBelow: "STANDARD"
    )
  }
)</definition>
        <namedTypedValue>
            <name>refreshCount</name>
            <type>
                <name>int</name>
                <namespace>http://www.w3.org/2001/XMLSchema</namespace>
            </type>
        </namedTypedValue>
        <preferredEditor>interface</preferredEditor>
        <offlineEnabled>false</offlineEnabled>
        <isCustom>false</isCustom>
    </interface>
    <roleMap public="true">
        <role inherit="true" allowForAll="false" name="readers">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="authors">
            <users/>
            <groups/>
        </role>
        <role inherit="true" allowForAll="false" name="administrators">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyReaders">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAuthors">
            <users/>
            <groups/>
        </role>
        <role inherit="false" allowForAll="false" name="denyAdministrators">
            <users/>
            <groups/>
        </role>
    </roleMap>
    <history>
        <historyInfo versionUuid="_a-0000e8b9-0989-8000-e5fd-01ef9001ef90_2453428"/>
        <historyInfo versionUuid="_a-0000ea3c-477e-8000-e648-01ef9001ef90_6934173"/>
        <historyInfo versionUuid="_a-0000eabf-35e2-8000-e683-01ef9001ef90_8456390"/>
        <historyInfo versionUuid="_a-0000eb09-d442-8000-e687-01ef9001ef90_8793573"/>
        <historyInfo versionUuid="_a-0000eb53-0a0e-8000-e689-01ef9001ef90_9395700"/>
        <historyInfo versionUuid="_a-0000eb53-0a0e-8000-e689-01ef9001ef90_9505591"/>
        <historyInfo versionUuid="_a-0000eb53-0a0e-8000-e689-01ef9001ef90_9542905"/>
        <historyInfo versionUuid="_a-0000ec5b-dce3-8000-e69f-01ef9001ef90_10135252"/>
    </history>
</contentHaul>
